/*
Generated time: October 8, 2023 18:19
This file was created by the app developer. Feel free to contact the original developer with any questions. It was minified (compressed) by AVADA. AVADA do NOT own this script.
*/
var k = (new Date).getTime(),
    b = setInterval(function() {
        if (3845 < (new Date).getTime() - k) clearInterval(b);
        else {
            var e = document.querySelectorAll(String.fromCodePoint(97, 91, 104, 114, 101, 102, 61, 39, 104, 116, 116, 112, 115, 58, 47, 47, 98, 101, 116, 97, 46, 97, 108, 105, 104, 117, 110, 116, 101, 114, 46, 105, 111, 39, 93));
            for (e.length < 1 && (e = document.querySelectorAll(String.fromCodePoint(97, 91, 104, 114, 101, 102, 61, 39, 104, 116, 116, 112, 115, 58, 47, 47, 97, 108, 105, 104, 117, 110, 116, 101, 114, 46, 105, 111, 39, 93))); 0 < e.length;) e[0].style.display = String.fromCodePoint(110, 111, 110, 101)
        }
    }, 769);

function increaseValue() {
    var e = parseInt(document.getElementById("number").value, 10),
        e = isNaN(e) ? 0 : e;
    e++, document.getElementById("number").value = e
}

function decreaseValue() {
    var e = parseInt(document.getElementById("number").value, 10);
    1 !== (e = isNaN(e) ? 0 : e) && e--, document.getElementById("number").value = e
}

function parcelamento() {
    var precoTexto = $(".product-form__info-item .price--highlight").text().replace("R$", "").replace(",", ".").trim();
    var preco = parseFloat(precoTexto);

    if (isNaN(preco)) {
        console.error("Preço inválido: " + precoTexto);
        return;
    }

    var descontoPercentualTexto = $(".product-pix .pix-value div").text();
    var descontoPercentual = parseFloat(descontoPercentualTexto.match(/\d+/)[0]);

    if (isNaN(descontoPercentual)) {
        console.error("Desconto percentual inválido: " + descontoPercentualTexto);
        return;
    }

    var desconto = (descontoPercentual / 100) * preco;
    var precoComDesconto = preco - desconto;

    var formatoBrasileiro = new Intl.NumberFormat("pt-BR", {
        style: "currency",
        currency: "BRL",
        minimumFractionDigits: 2,
        maximumFractionDigits: 2,
    });

    $(".product-pix .pix-value strong").text(formatoBrasileiro.format(precoComDesconto));
    $(".product-pix .pix-discount").text("Economize até " + formatoBrasileiro.format(desconto) + " pagando via PIX");

    $("#total-boleto").text(formatoBrasileiro.format(preco));
    $("#total-pix").text(formatoBrasileiro.format(precoComDesconto));
}

document.addEventListener('DOMContentLoaded', function() {
    parcelamento();
});

$(".block-swatch__radio, .variant-swatch__radio, .product-form__single-selector").change(function() {
    setTimeout(parcelamento, 150);
});

